{{- define "patchType" -}}

{{ if .Patch.Generate }}

// {{.Patch.Type}} (partially) patches: {{.Type}}.
type {{.Patch.Type}} struct {
{{- range .Patch.Fields true }}
	{{.Name}}	{{.Type}}	`db:"{{.Column}}"`
{{- end}}
}

{{ end }}

{{- end -}}

// Code generated by endogen; DO NOT EDIT.

package {{.Package}}

import (
	{{ range .Imports -}}
	{{.Spec}}
	{{end}})

{{range .Models}}

{{if .Updatable}}
{{template "patchType" .}}
{{end}}

{{end}}
